!function(i,r){let s=!1,c={tags:[],token:"",levels:[],stringTags:"",context:{}};const n=["info","log","warn","error"],g={info:{console:"ConsoleInfo"},log:{console:"ConsoleLog"},warn:{console:"ConsoleWarn"},error:{console:"ConsoleError",exception:"BrowserJsException"}},l=e=>(e=(e=e||[]).filter(e=>e.trim())).join(","),d=e=>{e=l(e);e&&i._LTracker.push({logglyKey:c.token,sendConsoleErrors:!1,tag:e})},t=()=>{i._LTracker=i._LTracker||[],i._LTracker.push({logglyKey:c.token,sendConsoleErrors:!1,tag:c.stringTags}),c.levels.forEach(e=>{switch(e){case"info":{const r="info",n=console.info;console.info=(...e)=>{var o={level:r,category:g[r].console};v(o,...e),n(...e)}}break;case"log":{const l=console.log;console.log=(...e)=>{var o={level:"log",category:g.log.console};v(o,...e),l(...e)}}break;case"warn":{const t="warn",a=console.warn;console.warn=(...e)=>{var o={level:t,category:g[t].console};v(o,...e),a(...e)}}break;case"error":{const s="error",c=console.error;console.error=(...e)=>{var o={level:s,category:g[s].console};v(o,...e),c(...e)},i.addEventListener("error",e=>{var o={level:s,category:g[s].exception,exception:{colno:e.colno,lineno:e.lineno,message:e.message,stack:e.error&&e.error.stack?e.error&&e.error.stack:"n/a",url:e.filename}};v(o,e.message)})}}}),s=!0},v=(e,...o)=>{var r,n;s?o&&o.length&&({level:e,category:r,exception:n}=e,d(c.tags),o={message:o[0],data:1<o.length?{...o}:void 0,context:c.context,level:e,category:r,location:{origin:i.location.origin,href:i.location.href}},n&&(o.exception=n),i._LTracker)&&i._LTracker.push(o):console.warn("Logger not initialized: Unable to log messages.")};i.loggingTracker={init:function(e,o){s?console.error("Logger already initialized. Cannot initialize multiple times."):(c=(c=e)||{},(e=l(c.tags))?(c.stringTags=e,(e=>{let o=!0;return(e=e||[]).forEach(e=>{n.includes(e)||(console.error(`Failed to initialize logger: Invalid log level - "${e}". Allowed levels are: ${n}.`),o=!1)}),o})(c.levels)&&((c.token||"").trim()?((e=r.createElement("script")).type="text/javascript",e.src="https://cloudfront.loggly.com/js/loggly.tracker-2.2.4.min.js",e.onload=()=>{t(),o&&o()},r.head.appendChild(e)):console.error("Failed to initialize logger: Invalid token."))):console.error("Failed to initialize logger: Invalid tags."))},log:function(e){var o,r,n,l,t,a;e=e||{},s?({message:e,data:o,context:r,level:n,category:l,exception:t,tags:a}=e,d(a),a={message:"string"==typeof e?e:"info",data:o,context:{...c.context,...r},level:n||"info",category:l,location:{origin:i.location.origin,href:i.location.href}},t&&(a.exception=t),i._LTracker&&i._LTracker.push(a)):console.warn("Logger not initialized: Unable to log messages.")},setContext:function(e){try{c.context=JSON.parse(JSON.stringify(e))}catch(e){console.error("Failed to set logger context: Invalid context object.",e)}}}}(window,document);
